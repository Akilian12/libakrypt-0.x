% -------------------------------------------------------------------- %
%    axel.sty (utf8)                                                   %
%                                                                      %
% -------------------------------------------------------------------- %
%    Автор:                                                            %
%      Алексей Нестеренко & Компания изящной словесности               %
%      Axel Kenzo & Mystycal Company Of Belles Lettres (MCOBL)         %
%      email: axelkenzo@mail.ru                                        %
%                                                                      %
%        первая версия от 15 декабря 2000 г.                           %
%        последняя редакция от 09 ноября 2019 г.                       %
%                                                                      %
% -------------------------------------------------------------------- %
%    Лицензия:                                                         %
%      Распространяется свободно, без каких либо ограничений на        %
%      использование, копирование или изменение. Пожелания,            %
%      благодарности, а также, о возникших ошибках просьба сообщать    %
%      автору.                                                         %
%                                                                      %
% -------------------------------------------------------------------- %
\NeedsTeXFormat{LaTeX2e}                                               %
% -------------------------------------------------------------------- %
\usepackage{amsfonts, amsmath, amsthm, amssymb, textcomp, fontenc, 
                               mathtext, ifthen, indentfirst, minted } %
% -------------------------------------------------------------------- %
\DeclareOption{varsymbols}{% переопределение написания греческих букв  %
  \renewcommand{\phi}{\varphi}                                         %
  \renewcommand{\theta}{\vartheta}                                     %
  \renewcommand{\epsilon}{\varepsilon}                                 %
  \renewcommand{\rho}{\varrho}                                         %
  \renewcommand{\sigma}{\varsigma}                                     %
}                                                                      %
\def\axelfpnumber{1}                                                   %
\def\axelstartpage{1}                                                  %
\def\axelrulerline{0}                                                  %
\def\axelmakeheader{0}                                                 %
\DeclareOption{fpnumber}% номер на первой странице документа           %
{\def\axelfpnumber{0}}%  по-умолчанию номера нет (нет номера = 1)      %
\DeclareOption{ruler}% отчеркивание верхнего колонтитула строкой       %
{\def\axelrulerline{1}}%  по-умолчанию строки нет                      %
\DeclareOption{headers}% верхний колонтитул содержит текущий параграф  %
{\def\axelmakeheader{1}}%  по-умолчанию названия в колонтитул          %
%
\DeclareOption{xetex}{ % коды символов взяты из файла utf8enc.dfu
 \DeclareUTFcharacter[\UTFencname]{x0402}{\CYRDJE}
 \DeclareUTFcharacter[\UTFencname]{x0404}{\CYRIE}
 \DeclareUTFcharacter[\UTFencname]{x0405}{\CYRDZE}
 \DeclareUTFcharacter[\UTFencname]{x0406}{\CYRII}
 \DeclareUTFcharacter[\UTFencname]{x0407}{\CYRYI}
 \DeclareUTFcharacter[\UTFencname]{x0408}{\CYRJE}
 \DeclareUTFcharacter[\UTFencname]{x0409}{\CYRLJE}
 \DeclareUTFcharacter[\UTFencname]{x040A}{\CYRNJE}
 \DeclareUTFcharacter[\UTFencname]{x040B}{\CYRTSHE}
 \DeclareUTFcharacter[\UTFencname]{x0410}{\CYRA}
 \DeclareUTFcharacter[\UTFencname]{x0411}{\CYRB}
 \DeclareUTFcharacter[\UTFencname]{x0412}{\CYRV}
 \DeclareUTFcharacter[\UTFencname]{x0413}{\CYRG}
 \DeclareUTFcharacter[\UTFencname]{x0414}{\CYRD}
 \DeclareUTFcharacter[\UTFencname]{x0415}{\CYRE}
 \DeclareUTFcharacter[\UTFencname]{x0401}{\CYRYO}
 \DeclareUTFcharacter[\UTFencname]{x0416}{\CYRZH}
 \DeclareUTFcharacter[\UTFencname]{x0417}{\CYRZ}
 \DeclareUTFcharacter[\UTFencname]{x0418}{\CYRI}
 \DeclareUTFcharacter[\UTFencname]{x0419}{\CYRISHRT}
 \DeclareUTFcharacter[\UTFencname]{x041A}{\CYRK}
 \DeclareUTFcharacter[\UTFencname]{x041B}{\CYRL}
 \DeclareUTFcharacter[\UTFencname]{x041C}{\CYRM}
 \DeclareUTFcharacter[\UTFencname]{x041D}{\CYRN}
 \DeclareUTFcharacter[\UTFencname]{x041E}{\CYRO}
 \DeclareUTFcharacter[\UTFencname]{x041F}{\CYRP}
 \DeclareUTFcharacter[\UTFencname]{x0420}{\CYRR}
 \DeclareUTFcharacter[\UTFencname]{x0421}{\CYRS}
 \DeclareUTFcharacter[\UTFencname]{x0422}{\CYRT}
 \DeclareUTFcharacter[\UTFencname]{x0423}{\CYRU}
 \DeclareUTFcharacter[\UTFencname]{x0424}{\CYRF}
 \DeclareUTFcharacter[\UTFencname]{x0425}{\CYRH}
 \DeclareUTFcharacter[\UTFencname]{x0426}{\CYRC}
 \DeclareUTFcharacter[\UTFencname]{x0427}{\CYRCH}
 \DeclareUTFcharacter[\UTFencname]{x0428}{\CYRSH}
 \DeclareUTFcharacter[\UTFencname]{x0429}{\CYRSHCH}
 \DeclareUTFcharacter[\UTFencname]{x042A}{\CYRHRDSN} % твердый знак
 \DeclareUTFcharacter[\UTFencname]{x042B}{\CYRERY}   % Ы
 \DeclareUTFcharacter[\UTFencname]{x042C}{\CYRSFTSN} % мягкий знак
 \DeclareUTFcharacter[\UTFencname]{x042D}{\CYREREV}  % Э
 \DeclareUTFcharacter[\UTFencname]{x042E}{\CYRYU}
 \DeclareUTFcharacter[\UTFencname]{x042F}{\CYRYA}
 \DeclareUTFcharacter[\UTFencname]{x0430}{\cyra}
 \DeclareUTFcharacter[\UTFencname]{x0431}{\cyrb}
 \DeclareUTFcharacter[\UTFencname]{x0432}{\cyrv}
 \DeclareUTFcharacter[\UTFencname]{x0433}{\cyrg}
 \DeclareUTFcharacter[\UTFencname]{x0434}{\cyrd}
 \DeclareUTFcharacter[\UTFencname]{x0435}{\cyre}
 \DeclareUTFcharacter[\UTFencname]{x0451}{\cyryo}
 \DeclareUTFcharacter[\UTFencname]{x0436}{\cyrzh}
 \DeclareUTFcharacter[\UTFencname]{x0437}{\cyrz}
 \DeclareUTFcharacter[\UTFencname]{x0438}{\cyri}
 \DeclareUTFcharacter[\UTFencname]{x0439}{\cyrishrt}
 \DeclareUTFcharacter[\UTFencname]{x043A}{\cyrk}
 \DeclareUTFcharacter[\UTFencname]{x043B}{\cyrl}
 \DeclareUTFcharacter[\UTFencname]{x043C}{\cyrm}
 \DeclareUTFcharacter[\UTFencname]{x043D}{\cyrn}
 \DeclareUTFcharacter[\UTFencname]{x043E}{\cyro}
 \DeclareUTFcharacter[\UTFencname]{x043F}{\cyrp}
 \DeclareUTFcharacter[\UTFencname]{x0440}{\cyrr}
 \DeclareUTFcharacter[\UTFencname]{x0441}{\cyrs}
 \DeclareUTFcharacter[\UTFencname]{x0442}{\cyrt}
 \DeclareUTFcharacter[\UTFencname]{x0443}{\cyru}
 \DeclareUTFcharacter[\UTFencname]{x0444}{\cyrf}
 \DeclareUTFcharacter[\UTFencname]{x0445}{\cyrh}
 \DeclareUTFcharacter[\UTFencname]{x0446}{\cyrc}
 \DeclareUTFcharacter[\UTFencname]{x0447}{\cyrch}
 \DeclareUTFcharacter[\UTFencname]{x0448}{\cyrsh}
 \DeclareUTFcharacter[\UTFencname]{x0449}{\cyrshch}
 \DeclareUTFcharacter[\UTFencname]{x044A}{\cyrhrdsn}
 \DeclareUTFcharacter[\UTFencname]{x044B}{\cyrery}
 \DeclareUTFcharacter[\UTFencname]{x044C}{\cyrsftsn}
 \DeclareUTFcharacter[\UTFencname]{x044D}{\cyrerev}
 \DeclareUTFcharacter[\UTFencname]{x044E}{\cyryu}
 \DeclareUTFcharacter[\UTFencname]{x044F}{\cyrya}
 \DeclareUTFcharacter[\UTFencname]{x0452}{\cyrdje}
 \DeclareUTFcharacter[\UTFencname]{x0454}{\cyrie}
 \DeclareUTFcharacter[\UTFencname]{x0455}{\cyrdze}
 \DeclareUTFcharacter[\UTFencname]{x0456}{\cyrii}
 \DeclareUTFcharacter[\UTFencname]{x0457}{\cyryi}
 \DeclareUTFcharacter[\UTFencname]{x0458}{\cyrje}
 \DeclareUTFcharacter[\UTFencname]{x0459}{\cyrlje}
 \DeclareUTFcharacter[\UTFencname]{x045A}{\cyrnje}
 \DeclareUTFcharacter[\UTFencname]{x045B}{\cyrtshe}
% дублируем сиволы из amssym, который не живет с tetex'om
 \DeclareMathSymbol{\blacktriangleright}{\mathrel}{AMSa}{"49}
 \DeclareMathSymbol{\blacktriangleleft}{\mathrel}{AMSa}{"4A}
 \renewcommand{\S}{\textsection}
}
\ProcessOptions                                                        %

% -------------------------------------------------------------------- %
%    Команда установки размеров полей документа                        %
% -------------------------------------------------------------------- %
\newcommand{\setmargins}[4]% установка полей документа                 %
{% сначала левое поле                                                  %
\oddsidemargin = -1in% убираем 1 дюйм                                  %
\advance\oddsidemargin by #1% устанавливаем ширину левого поля         %
% теперь ширина текста и правое поле                                   %
\setlength{\textwidth}{\paperwidth}% получаем ширину страницы          %
\advance\textwidth by -#1% вычитаем левое поле                         %
\advance\textwidth by -#2% вычитаем правое поле                        %
% установим параметры для двусторонней печати (опция twoside)          %
\evensidemargin = -1in%                                                %
\advance\evensidemargin by #2%                                         %
% теперь установим верхнее поле                                        %
\headheight=15mm%  высота колонтитула                                  %
\headsep=5mm%  высота от колонтитула до текста                         %
\topmargin = -1in% убираем 1 дюйм                                      %
\advance\topmargin by #3%                                              %
\advance\topmargin by -20mm% вычитаем высоту \headheight и \headsep    %
% и, в последнюю очередь, высота текста и нижнее поле                  %
\setlength{\textheight}{\paperheight}%                                 %
\advance\textheight by -#3%                                            %
\advance\textheight by -#4%                                            %
}                                                                      %
% -------------------------------------------------------------------- %

% -------------------------------------------------------------------- %
%    Короткие команды для шрифтов                                      %
% -------------------------------------------------------------------- %
\newcommand{\mc}{\mathcal}%                                            %
\newcommand{\mb}{\mathbb}%                                             %
\newcommand{\mf}{\mathfrak}%                                           %
\newcommand{\mt}{\texttt}%                                             %
%                                                                      %
% -------------------------------------------------------------------- %
%    Дополнительные символы и команды                                  %
% -------------------------------------------------------------------- %
% символ несравнимо
\newcommand{\nequiv}{\not\equiv}%                                      %
% символ Лежандра-Якоби-Кронекера                                      %
\newcommand{\jacobi}[2]{\left(\frac{#1}{#2}\right)}%                   %
% наибольший общий делитель                                            %
\renewcommand{\gcd}[2]%                                                %
{\mathop{\text{\normalfont\bfseries НОД}}%                  %
\nolimits\left(#1,\hspace{0.5em}#2\right)}%                            %
% наибольший общий делитель с одним параметром                         %
\newcommand{\gcdone}[1]{%                                              %
\mathop{\text{\normalfont\bfseries НОД}}\nolimits\left( #1 \right)}
% наименьшее общее кратное                                             %
\newcommand{\lcm}[2]%                                                  %
{\mathop{\text{\normalfont\bfseries НОК}}%                  %
\nolimits\left(#1,\hspace{0.5em}#2\right)}%                            %
% символ дроби одна вторая                                             %
\newcommand{\half}{{^1}/{_2}\,}%                                       %
%
% -------------------------------------------------------------------- %
\DeclareMathSymbol{\le}{\mathrel}{AMSa}{"36}
\DeclareMathSymbol{\ge}{\mathrel}{AMSa}{"3E}
\newcommand{\dash}{\textendash\:}
\newcommand{\ruse}{\text{Е}}
\newcommand{\rusd}{\text{Д}}
\DeclareMathOperator{\rusf}{\text{Ф}}%                                 %
\DeclareMathOperator{\len}{len}%                                       %
\DeclareMathOperator{\cim}{cim}%                                       %
\DeclareMathOperator{\tr}{tr}%                                         %

\renewcommand{\pmod}[1]{\:\left(\text{mod}\:#1\right)}
\newcommand{\diap}[1]{\left\{1, \ldots, #1 \right\}}

% -------------------------------------------------------------------- %
%\defineshorthand{"<}{\guillemotleft}
%\defineshorthand{">}{\guillemotright}

% -------------------------------------------------------------------- %
\newcommand{\obig}[1]{O\left(#1\right)}
\newcommand{\osmall}[1]{o\left(#1\right)}

% -------------------------------------------------------------------- %
\DeclareMathOperator{\sn}{sn}%                                         %
\DeclareMathOperator{\cn}{cn}%                                         %
\DeclareMathOperator{\dn}{dn}%                                         %
\DeclareMathOperator{\ord}{ord}%                                       %
\DeclareMathOperator{\nlz}{nlz}%                                       %
\DeclareMathOperator{\ind}{ind}%                                       %
\DeclareMathOperator{\msb}{msb}%                                       %
\DeclareMathOperator{\lsb}{lsb}%                                       %
\DeclareMathOperator{\mac}{Mac}%
\DeclareMathOperator{\emac}{EncMac}%
\DeclareMathOperator{\dmac}{DecMac}%
\DeclareMathOperator{\sign}{sign}%
\DeclareMathOperator{\Int}{int}
\DeclareMathOperator{\Bin}{bin}

% -------------------------------------------------------------------- %
%     Стандартные математические окружения                             %
% -------------------------------------------------------------------- %
\newtheorem{theorem}{Теорема}%                                         %
\newtheorem{lemma}{Лемма}%                                             %
\newtheorem{proposition}{Утверждение}%                                 %
\newtheorem{definition}{Определение}%                                  %
\@addtoreset{conseq}{theorem}%                                         %
\newtheorem{conseq}{Следствие}%                                        %
\newtheorem{axiom}{Аксиома}
%                                                                      %
\@ifundefined{chapter}{}{% добавляем к номеру теоремы номер главы      %
% сначала исправим теоремы                                             %
\@addtoreset{theorem}{chapter}                                         %
\renewcommand{\thetheorem}{\arabic{chapter}.\arabic{theorem}}          %
% потом леммы, определения и предложения                               %
\@addtoreset{lemma}{chapter}                                           %
\@addtoreset{definition}{chapter}                                      %
\@addtoreset{proposition}{chapter}                                     %
\renewcommand{\thelemma}{\arabic{chapter}.\arabic{lemma}}              %
\renewcommand{\thedefinition}{\arabic{chapter}.\arabic{definition}}    %
\renewcommand{\theproposition}{\arabic{chapter}.\arabic{proposition}}  %
}
% -------------------------------------------------------------------- %
\@ifundefined{chapter}                                                 %
{\newcounter{axelsample}%                                              %
 \renewcommand{\theaxelsample}{\arabic{axelsample}}}%                  %
{\newcounter{axelsample}[chapter]                                      %
 \renewcommand{\theaxelsample}{\arabic{chapter}.\arabic{axelsample}}   %
}                                                                      %

% -------------------------------------------------------------------- %
\def\axelsamplename{Пример}
\newenvironment{example}
{\refstepcounter{axelsample}
\par\vspace{1ex plus 0.3ex minus 0.2ex}%
%\begin{center}\vspace{0.1em}\parbox{2.5in}{\hrulefill}\end{center}
\noindent{\bfseries\axelsamplename\:\theaxelsample.\:}\small\sffamily}%
{\par\vspace{1ex plus 0.3ex minus 0.2ex}}%\begin{center}\vspace{-0.1em}\parbox{2.5in}{\hrulefill}\end{center}}
%
%{\par}%\hfill\parbox{2.5in}{\hrulefill}\hfill}
\newenvironment{addition}
{\par\vspace{1ex plus 0.3ex minus 0.2ex}\small\sffamily}
{\normalsize\normalfont\par\vspace{1ex plus 0.3ex minus 0.2ex}}

% -------------------------------------------------------------------- %
\@ifundefined{chapter}                                                 %
{\newcounter{axelexercise}%                                            %
 \renewcommand{\theaxelexercise}{\arabic{axelexercise}}}%              %
{\newcounter{axelexercise}[chapter]                                      %
 \renewcommand{\theaxelexercise}{\arabic{chapter}.\arabic{axelexercise}}%
}                                                                      %

% -------------------------------------------------------------------- %
\def\axelexercisename{Упражнение}
\newenvironment{exercise}
{\refstepcounter{axelexercise}\par\vspace{1ex plus 0.3ex minus 0.2ex}%
\noindent{\bfseries\axelexercisename\:\theaxelexercise.}\:}
{\par\vspace{1ex plus 0.3ex minus 0.2ex}}

% -------------------------------------------------------------------- %
%    Обработка ссылок                                                  %
% -------------------------------------------------------------------- %
\newcommand{\aref}[1]{(\ref{#1})}%                                     %
\newcommand{\bref}[1]{{\bfseries\ref{#1}}}%                            %

% -------------------------------------------------------------------- %
% обрабатываем главы в классе memoir                                   %
% -------------------------------------------------------------------- %
\newcommand{\axelchaptername}{глава}%              %
%                                                                      %
 \@ifundefined{@memerror}{}{% Мы находимся внутри класса memoir         %
 \renewcommand{\chapterheadstart}{}%                                    %
 \renewcommand{\chaptitlefont}{\Large\bfseries\scshape}%                %
 \renewcommand{\chapnumfont}{\large}%\scshape}                          %
 \renewcommand{\printchaptername}{\centerline%                          %
 {\chapnumfont{\uppercase{\axelchaptername}\:\thechapter}}}%            %
 \renewcommand{\chapternamenum}{}%                                      %
 \renewcommand{\printchapternum}{}%                                     %
 \renewcommand{\afterchapternum}{%                                      %
 \vspace{-2mm}\par\centerline{\parbox{2in}{\hrulefill}}\par\vspace{1mm}}%
 \renewcommand{\printchaptertitle}[1]{%
 \begin{center}{\chaptitlefont#1}\end{center}}%                                 
 %\centerline{\chaptitlefont#1}}%                                        %
 %\chaptertitlefont #1}
}%                                                                     %
%                                                                      %
% -------------------------------------------------------------------- %
% краткая информация о главе (центрировано)
\newcommand{\chapterinfo}[1]
{\vspace{-2em}\begin{quote}{\bfseries\footnotesize #1\par}\end{quote}}

% обрабатываем нумерацию секций
\setsecnumformat{\csname the#1\endcsname.\space}
\setcounter{tocdepth}{2}
\setcounter{secnumdepth}{3}

% обрабатываем оглавление 
%\renewcommand*{\cftchaptername}{Глава\space}
%\renewcommand*{\cftchapteraftersnum}{.\space}
%\renewcommand*{\cftsectionaftersnum}{.\space}
%\renewcommand*{\cftsubsectionaftersnum}{.\space}

% -------------------------------------------------------------------- %
%    Модификация стандартных колонтитулов                              %
% -------------------------------------------------------------------- %
\newlength{\axelruler}%                                                %
\setlength{\axelruler}{\textwidth}\advance\axelruler by -0.8mm%        %
%                                                                      %
% определяем текст для вывода                                          %
\newcommand{\axeloddmark}{\hfill%
\ifnum\axelmakeheader=1\rightmark\fi\hfill\thepage}% нечетные страницы %
\newcommand{\axelevenmark}{\thepage%
\hfill\ifnum\axelmakeheader=1\leftmark\fi\hfill}% четные страницы   %
%                                                                      %
\newcommand{\axelrulerout}[1]{% вывод оформления                       %
\ifnum\axelrulerline=1%                                                %
   \parbox{\axelruler}{\vbox{\hbox to\textwidth{\strut#1}\hrule}}%     %
\else#1\fi%                                                            %
}%                                                                     %
%                                                                      %
\renewcommand{\@oddhead}%                                              %
{\ifnum\thepage=\axelstartpage%                                        %
    \ifnum\axelfpnumber=0\axelrulerout{\axeloddmark}\fi%               %
 \else\axelrulerout{\axeloddmark}\fi%                                  %
}                                                                      %
% для двусторонней печати                                              %
\renewcommand{\@evenhead}
{\ifnum\thepage=\axelstartpage%                                        %
    \ifnum\axelfpnumber=0\axelrulerout{\axelevenmark}\fi%              %
 \else\axelrulerout{\axelevenmark}\fi%                                 %
}                                                                      %
% нижние колонтитулы                                                   %
\renewcommand{\@oddfoot}{}%                                            %
\renewcommand{\@evenfoot}{}%                                           %
%                                                                       %
\newcommand{\cleanmarks}{%                                             %
\renewcommand{\axeloddmark}{\hfill\thepage}%                           %
\renewcommand{\axelevenmark}{\thepage\hfill}%                          %
}
%
% -------------------------------------------------------------------- %
\@ifundefined{chapter}{ % вариант статьи (чет-секции, нечет - подсекции
\renewcommand{\subsectionmark}[1]{\def\rightmark{{\small\scshape #1}}}
\renewcommand{\sectionmark}[1]{\def\leftmark{{\small\scshape #1}}}
}{% вариант книги (чет - главы, нечет секции
\renewcommand{\chaptermark}[1]{\def\leftmark{{\small\scshape #1}}}
\renewcommand{\sectionmark}[1]{\def\rightmark{{\small\scshape #1}}}
}%                                                                     %

% -------------------------------------------------------------------------- %
%        последнее новое окружение алгоритм (вариант 2014 года)              %
% -------------------------------------------------------------------------- %
\@ifundefined{chapter}{\newcounter{aacounter}}%                              %
{\newcounter{aacounter}[chapter]%                                            %
\renewcommand{\theaacounter}{\arabic{chapter}.\arabic{aacounter}}}%          %
%                                                                            %
\newcommand{\aaname}{Алгоритм}%                                              %
\newcommand{\aaendsym}{$\Box$}%                                              %
\newcounter{aalinecounter}[aacounter]%                                       %
\newcounter{aalinecounterl}[aalinecounter]%                                  %
\newcounter{aalinecounterll}[aalinecounterl]%                                %
% вспомогательные команды                                                    %
\newcommand{\inalgtext}{Вход}%                                               %
\newcommand{\outalgtext}{Выход}%                                             %
\newcommand{\inalg}[1]{\nopagebreak\noindent{\bfseries\inalgtext:}~#1\par}   %
\newcommand{\outalg}[1]{\nopagebreak\noindent{\bfseries\outalgtext:}~#1\par}%%
%собственно определение окружения                                            %
\newenvironment{axelalgorithm}[1]                                            %
{\par\refstepcounter{aacounter}\vspace{1.5ex}%                               %
\noindent{\bfseries\aaname\;\theaacounter\ifthenelse{\equal{#1}{}}{}{\;(#1)}}%
\strut\hrule\nopagebreak\vspace{1ex}\small}                                  %
{\nopagebreak\hfill\aaendsym\strut\hrule\par\vspace{1em}}%                   %
%
\newcommand{\step}{\refstepcounter{aalinecounter}%                           %
\indent{\bfseries\theaalinecounter.\;}}%                                     %
\newcommand{\stepl}{\refstepcounter{aalinecounterl}%                         %
\indent\indent{\bfseries\theaalinecounter.\theaalinecounterl.\;}}%           %
\newcommand{\stepll}{\refstepcounter{aalinecounterll}%                       %
\indent\indent\indent{\bfseries\theaalinecounter.\theaalinecounterl.\theaalinecounterll.\;}}%
\newcommand{\stepfor}[3]%                                                    %
{\step{Для\:всех}\:#1\:{от}\:#2\:{до}\:#3\:{выполнить:\par}}%                 %
\newcommand{\stepforl}[3]%                                                   %
{\stepl{Для\:всех}\:#1\:{от}\:#2\:{до}\:#3\:{выполнить:\par}}%                 %
\newcommand{\stepwhile}[1]{\step{Пока}\:#1\:выполнять\par}%                  %
% -------------------------------------------------------------------------- %

%\newenvironment{inputminalgorithm}[4]{
%\par\refstepcounter{aacounter}\vspace{1.5ex}%                               %
%\noindent{\bfseries\aaname\;\theaacounter\ifthenelse{\equal{#1}{}}{}{\;(#1)}}%
%\strut\hrule\nopagebreak\vspace{0.5em}\small
%\nopagebreak\noindent{\bfseries\inalgtext:}~#1\par
%\nopagebreak\noindent{\bfseries\outalgtext:}~#2\par
%{\inputminted[linenos, breaklines, frame=bottomline, framesep=1em, 
%         fontsize=\footnotesize, texcomments=true, mathescape]{pascal}{magma/gcd.m}}
%{\inputminted[linenos, breaklines, frame=bottomline, framesep=1em, 
%         fontsize=\footnotesize, texcomments=true, mathescape]{pascal}{#2}
%\par\vspace{1em}
%}

% -------------------------------------------------------------------------- %
\newcommand{\inputminalgorithm}[4]{%                                         %
\par\refstepcounter{aacounter}\vspace{1.5ex}%                                %
\noindent{\bfseries\aaname\;\theaacounter\ifthenelse{\equal{#1}{}}{}{\;(#1)}}%
\strut\hrule\nopagebreak\vspace{0.5em}{\small                                %
\nopagebreak\noindent{\bfseries\inalgtext:}~#2\par                           %
\nopagebreak\noindent{\bfseries\outalgtext:}~#3\par \vspace{-1em}            %
\inputminted[linenos, breaklines, frame=bottomline, %framesep=1em,           % 
        fontsize=\footnotesize, texcomments=true, mathescape]{python}{#4}}   %
}                                                                            %
% -------------------------------------------------------------------------- %

\newcounter{axelrefcounter}%
\newcommand{\axlabel}[1]{\refstepcounter{axelrefcounter}$^{\arabic{axelrefcounter}}$\label{#1}}%
\newcommand{\axitem}[1]{\par\bigskip[\ref{#1},~стр.~\pageref{#1}]}
% -------------------------------------------------------------------------- %
